<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crustomer</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <nav>
            <img src="img/logo.png" alt="" class="logo">
            <h2>PLACE YOUR ORDER</h2>
            <div class="welcome">
                <p>Welcome, <%= user.userName %>!</p>
                <a href="/logout">Logout</a>
            </div>
        </nav>
    </header>
    <main>
        <section>
            <h2 class="orderHead">Your Order</h2>
            <ul class="orderList shadow">
            <% let priceArr = [] %>
            <% pizzas.forEach( el => { %>
                    <li class='pizzaItem' data-id='<%=el._id%>'>
                        <span><%= el.size %></span>
                        <span class='pizzaName'><%= el.pizza %></span>
                        <span>$<%= el.price %></span>
                        <span class='del'> X </span>
                        <br>
                        <% el.toppings.forEach(item => { %>
                            <span class="ingredient"><%= item %></span>
                        <% }) %>                        
                    </li>
                    <% priceArr.push(el.price) %>
            <% }) %>
            <p class="tiny">Changed your mind? Click a topping above to delete it.</p>
            </ul>
            <h3 id="total">Total: $<%=priceArr.reduce((a, b) => (a + b), 0) %></h3>
        </section>
        <section>
            <form action="/pizzas/createPizza" method="POST">
                <h1 class="menuHead">Menu</h1>
                <div class="menu">            
                    <div class="card shadow">
                        <img class="productImage" src="img/pepperoni-pizza.png" alt="pepperoni pizza">
                        <div class="itemInfo">
                            <h2 class="itemName">Pepperoni</h2>
                            <div class="description">
                                <p>Our prize-winning pepperoni will have your mouth watering more than the little pools of grease in each meaty cup.</p>
                            </div>
                            <span class="price">$15</span>
                            <div class="pizzaChoice">
                                <input id="pepperoni" type="radio" name="pizzaItem" value="Pepperoni Pizza">
                                <label for="pepperoni">Pepperoni</label>
                                
                            </div>
                        </div>
                    </div>
                    <div class="card shadow">
                        <img class="productImage" src="img/cheese-pizza.png" alt="cheese pizza">
                        <div class="itemInfo">
                            <h2 class="itemName">Cheese</h2>
                            <div class="description">
                                <p>A classic cheese pizza is the ultimate crowd-pleaser. The delicious combination of crispy pizza crust, flavorful tomato sauce, and bubbly cheese make for an unbeatable combination.</p>
                            </div>
                            <span class="price">$12</span>
                            <div class="pizzaChoice">
                                <input id="cheese" type="radio" name="pizzaItem" value="Cheese Pizza">
                                <label for="cheese">Cheese</label>
                                
                            </div>
                        </div>
                    </div>
                    <div class="card shadow">
                        <img class="productImage" src="img/bbq-chicken-pizza.png" alt="chicken pizza">
                        <div class="itemInfo">
                            <h2 class="itemName">Chicken</h2>
                            <div class="description">
                                <p>Our chicken is seasoned with a secret blend of one thousand herbs and spices. Add to that our awesome BBQ-based pizza sauce with even more seasoning, and you have yourself a one-way ticket to Flavortown!</p>
                            </div>
                            <span class="price">$18</span>
                            <div class="pizzaChoice">
                                <input id="chicken" type="radio" name="pizzaItem" value="Chicken Pizza">
                                <label for="chicken">Chicken</label>
                                
                            </div>
                        </div>
                    </div>    
                </div>
                <div class="toppings">
                    <input id="extraCheese" type="checkbox" value="extra cheese" name="toppings">
                    <label for="extraCheese">Extra Cheese</label>
                    <input id="pepperFlakes" type="checkbox" value="pepper flakes" name="toppings">
                    <label for="pepperFlakes">Pepper Flakes</label>   
                </div>
                <div class="size">
                    <input id="small" type="radio" value="Small" name="size">
                    <label for="small">Small</label>
                    <input id="medium" type="radio" value="Medium" name="size">
                    <label for="medium">Medium</label>
                    <input id="large" type="radio" value="Large" name="size">
                    <label for="large">Large</label>   
                </div>
                <div class="buttonHolder">
                    <button id="submit-btn" type="submit" class="addToOrder">Add to Order</button>
                </div>
            </form>
        </section>
    </main>
<!--
    <section>
        <form action="/pizzas/createPizza" method='POST'>
            <input type="text" placeholder="Enter Pizza Item" name='pizzaItem'>
            <input type="number" placeholder="Enter Price" name="pizzaPrice">
            <input type="submit">
        </form>
    </section>
-->
    <script src="js/main.js"></script>
</body>
</html>